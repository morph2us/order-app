# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 앱

### 1.3 개발 범위
- 주문하기 화면 (메뉴 선택 및 장바구니 기능)
- 관리자 화면 (재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프런트엔드 : HTML, CSS, 리액트, 자바스크립트
- 백엔드 : Node.js, Express
- 데이터베이스 : PostgreSQL

## 3. 기본 사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면

### 4.1 화면 개요
사용자가 커피 메뉴를 선택하고 장바구니에 담아 주문할 수 있는 메인 화면입니다.

### 4.2 화면 구성

#### 4.2.1 헤더 영역
- **위치**: 화면 상단
- **구성 요소**:
  - **로고**: 좌측에 "COZY" 텍스트가 들어간 다크 그린 배경의 박스
  - **주문하기 버튼**: 헤더 우측에 위치한 버튼 (현재 화면 표시)
  - **관리자 버튼**: 헤더 우측에 위치한 버튼 (관리자 화면으로 이동)

#### 4.2.2 메뉴 아이템 섹션
- **위치**: 헤더 아래, 화면 중앙
- **레이아웃**: 메뉴 카드들이 가로로 배치 (그리드 또는 플렉스 레이아웃)
- **메뉴 카드 구성 요소**:
  1. **이미지 영역**: 메뉴 이미지를 표시하는 영역 (플레이스홀더 지원)
  2. **메뉴 이름**: 커피 메뉴의 이름 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
  3. **가격**: 원화(원) 단위로 표시 (예: "4,000원", "5,000원")
  4. **설명**: 메뉴에 대한 간단한 설명 텍스트 (예: "간단한 설명...")
  5. **커스터마이징 옵션**: 체크박스 형태의 옵션 선택
     - "샷 추가 (+500원)" - 선택 시 가격에 500원 추가
     - "시럽 추가 (+0원)" - 선택 시 가격 변동 없음
  6. **담기 버튼**: 회색 배경의 버튼으로, 클릭 시 해당 메뉴를 장바구니에 추가

#### 4.2.3 장바구니 섹션
- **위치**: 화면 하단
- **구성 요소**:
  1. **제목**: "장바구니" 텍스트
  2. **아이템 목록**: 선택한 메뉴 아이템들의 목록
     - 각 아이템 표시 형식: "메뉴명 (옵션) X 수량"
     - 각 아이템의 개별 가격 표시
     - 예시:
       - "아메리카노(ICE) (샷 추가) X 1" - 4,500원
       - "아메리카노(HOT) X 2" - 8,000원
  3. **총 금액**: "총 금액" 레이블과 함께 굵은 글씨로 표시 (예: "12,500원")
  4. **주문하기 버튼**: 회색 배경의 버튼으로, 클릭 시 주문을 완료

### 4.3 기능 요구사항

#### 4.3.1 메뉴 표시
- 데이터베이스에서 커피 메뉴 목록을 조회하여 화면에 표시
- 각 메뉴는 카드 형태로 표시되며, 이미지, 이름, 가격, 설명이 포함됨

#### 4.3.2 커스터마이징 옵션
- 각 메뉴 카드에서 옵션을 선택할 수 있음
- 옵션 선택 시 가격이 실시간으로 반영되어야 함 (샷 추가 시 +500원)
- 여러 옵션을 동시에 선택 가능

#### 4.3.3 장바구니 기능
- **담기**: 메뉴 카드의 "담기" 버튼 클릭 시 장바구니에 추가
- **중복 추가**: 같은 메뉴와 옵션 조합을 다시 담으면 수량이 증가
- **수량 표시**: 장바구니에 담긴 각 아이템의 수량을 표시
- **가격 계산**: 
  - 각 아이템의 가격 = (기본 가격 + 옵션 추가 가격) × 수량
  - 총 금액 = 모든 아이템 가격의 합계
- **실시간 업데이트**: 장바구니에 아이템이 추가되거나 수량이 변경되면 총 금액이 자동으로 업데이트

#### 4.3.4 주문하기
- 장바구니에 아이템이 있을 때만 "주문하기" 버튼 활성화
- "주문하기" 버튼 클릭 시:
  - 주문 데이터를 서버로 전송
  - 주문 완료 후 장바구니 초기화
  - 사용자에게 주문 완료 피드백 제공

### 4.4 데이터 구조

#### 4.4.1 메뉴 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  imageUrl: string,
  options: [
    {
      id: number,
      name: string,
      price: number
    }
  ]
}
```

#### 4.4.2 장바구니 아이템 데이터
```javascript
{
  menuId: number,
  menuName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      optionPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

#### 4.4.3 주문 데이터
```javascript
{
  items: [
    {
      menuId: number,
      menuName: string,
      options: [
        {
          optionId: number,
          optionName: string
        }
      ],
      quantity: number,
      price: number
    }
  ],
  totalAmount: number,
  orderDate: timestamp
}
```

### 4.5 UI/UX 요구사항
- 깔끔하고 미니멀한 디자인
- 화이트 배경에 다크 그레이 텍스트
- COZY 로고는 다크 그린 배경 사용
- 버튼은 회색 배경 사용
- 반응형 디자인 고려 (모바일/데스크톱)
- 사용자 액션에 대한 명확한 피드백 제공

## 5. 관리자 화면

### 5.1 화면 개요
관리자가 주문 현황을 확인하고 관리하며, 재고를 조정할 수 있는 관리자 대시보드 화면입니다.

### 5.2 화면 구성

#### 5.2.1 헤더 영역
- **위치**: 화면 상단
- **구성 요소**:
  - **로고**: 좌측에 "COZY" 텍스트가 들어간 다크 그레이 배경의 박스
  - **주문하기 버튼**: 헤더 우측에 위치한 버튼 (주문하기 화면으로 이동)
  - **관리자 버튼**: 헤더 우측에 위치한 버튼 (현재 화면 표시)

#### 5.2.2 관리자 대시보드 개요 섹션
- **위치**: 헤더 아래, 화면 상단
- **제목**: "관리자 대시보드"
- **통계 정보**: 주문 상태별 통계를 카드 형태로 표시
  - **총 주문**: 전체 주문 건수
  - **주문 접수**: 접수된 주문 건수
  - **제조 중**: 현재 제조 중인 주문 건수
  - **제조 완료**: 제조가 완료된 주문 건수

#### 5.2.3 재고 현황 섹션
- **위치**: 대시보드 개요 섹션 아래
- **제목**: "재고 현황"
- **레이아웃**: 메뉴별 재고 카드들이 가로로 배치
- **재고 카드 구성 요소**:
  1. **메뉴 이름**: 커피 메뉴의 이름 (예: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼")
  2. **재고 수량**: 현재 재고 수량을 "N개" 형식으로 표시 (예: "10개")
  3. **재고 조정 버튼**:
     - **+ 버튼**: 재고 수량 증가
     - **- 버튼**: 재고 수량 감소

#### 5.2.4 주문 현황 섹션
- **위치**: 화면 하단
- **제목**: "주문 현황"
- **주문 목록**: 주문 목록을 카드 형태로 표시
- **주문 카드 구성 요소**:
  1. **주문 시간**: 주문이 접수된 날짜와 시간 (예: "7월 31일 13:00")
  2. **주문 아이템**: 주문한 메뉴와 수량 (예: "아메리카노(ICE) x 1")
  3. **주문 금액**: 해당 주문의 총 금액 (예: "4,000원")
  4. **주문 상태 버튼**: 주문 상태에 따른 액션 버튼
     - "주문 접수" 버튼: 대기 중인 주문을 접수할 때
     - 기타 상태 변경 버튼 (제조 중, 제조 완료 등)

### 5.3 기능 요구사항

#### 5.3.1 대시보드 통계
- **실시간 업데이트**: 주문 상태가 변경되면 통계가 자동으로 업데이트
- **통계 계산**:
  - 총 주문: 모든 주문의 총 건수
  - 주문 접수: 상태가 "접수됨"인 주문 건수
  - 제조 중: 상태가 "제조 중"인 주문 건수
  - 제조 완료: 상태가 "제조 완료"인 주문 건수

#### 5.3.2 재고 관리
- **재고 조회**: 데이터베이스에서 각 메뉴의 현재 재고 수량을 조회하여 표시
- **재고 증가**: "+" 버튼 클릭 시 해당 메뉴의 재고 수량이 1 증가
- **재고 감소**: "-" 버튼 클릭 시 해당 메뉴의 재고 수량이 1 감소
- **재고 업데이트**: 재고 변경 시 즉시 데이터베이스에 반영
- **실시간 반영**: 재고 변경 후 화면에 즉시 반영

#### 5.3.3 주문 관리
- **주문 목록 조회**: 데이터베이스에서 주문 목록을 조회하여 표시
- **주문 상태별 필터링**: 주문 상태에 따라 주문을 필터링하여 표시 가능
- **주문 접수**: "주문 접수" 버튼 클릭 시:
  - 주문 상태를 "접수됨"으로 변경
  - 대시보드 통계 업데이트
  - 해당 주문의 재고 차감 (주문한 메뉴의 재고 감소)
- **주문 상태 변경**: 주문 상태를 단계별로 변경 가능
  - 대기 → 접수됨 → 제조 중 → 제조 완료
- **주문 정보 표시**: 각 주문의 상세 정보 표시
  - 주문 시간, 메뉴, 수량, 옵션, 금액 등

### 5.4 데이터 구조

#### 5.4.1 재고 데이터
```javascript
{
  menuId: number,
  menuName: string,
  stock: number
}
```

#### 5.4.2 주문 상태 통계 데이터
```javascript
{
  totalOrders: number,
  receivedOrders: number,
  manufacturingOrders: number,
  completedOrders: number
}
```

#### 5.4.3 주문 현황 데이터
```javascript
{
  id: number,
  orderDate: timestamp,
  items: [
    {
      menuId: number,
      menuName: string,
      options: [
        {
          optionId: number,
          optionName: string
        }
      ],
      quantity: number,
      price: number
    }
  ],
  totalAmount: number,
  status: 'pending' | 'received' | 'manufacturing' | 'completed'
}
```

### 5.5 비즈니스 로직

#### 5.5.1 재고 관리 규칙
- 재고는 0 이상의 정수 값만 허용
- 재고가 0인 경우 주문 접수 시 경고 표시 (선택 사항)
- 재고 차감은 주문 접수 시점에 수행

#### 5.5.2 주문 상태 흐름
1. **대기 (pending)**: 주문이 생성되었지만 아직 접수되지 않은 상태
2. **접수됨 (received)**: 관리자가 주문을 접수한 상태 (재고 차감 발생)
3. **제조 중 (manufacturing)**: 커피 제조가 시작된 상태
4. **제조 완료 (completed)**: 커피 제조가 완료된 상태

### 5.6 UI/UX 요구사항
- 깔끔하고 미니멀한 디자인
- 화이트 배경에 다크 그레이 텍스트
- COZY 로고는 다크 그레이 배경 사용 (관리자 화면)
- 버튼은 회색 배경 사용
- 통계 카드는 시각적으로 구분되도록 디자인
- 재고 카드는 각 메뉴별로 명확하게 구분
- 주문 카드는 시간순으로 정렬 (최신 주문이 상단)
- 반응형 디자인 고려 (모바일/데스크톱)
- 상태 변경 시 명확한 피드백 제공
- 재고 조정 시 즉각적인 시각적 피드백 제공